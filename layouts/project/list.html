{{ define "main" }} {{ partial "page-title.html" . }} {{ $data := index site.Data site.Language.Lang }}

<!-- Portfolio Start -->
<section class="portfolio-work">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <div class="portfolio-menu">
                        <div class="btn-group btn-group-toggle justify-content-center" data-toggle="buttons">
                            <label class="btn btn-sm btn-primary active">
                                <input
                                  type="radio"
                                  name="shuffle-filter"
                                  value="all"
                                  checked="checked"
                                />{{ i18n "all" }}
                              </label> {{ $categories := slice -}} {{ range .Data.Pages -}} {{ $categories = $categories | append .Params.category -}} {{ end -}} {{ range ( $categories | uniq ) -}}
                                            <label class="btn btn-sm btn-primary">
                                <input
                                  type="radio"
                                  name="shuffle-filter"
                                  value="{{ . | urlize }}"
                                />{{ . }}
                              </label> {{- end }}
                        </div>
                    </div>
                    <div class="row shuffle-wrapper">
                        {{ range .Data.Pages -}} 
                        {{ $cats := .Params.category -}} 
                        {{ if not (reflect.IsSlice $cats) }}
                        {{ $cats = slice ($cats) }}
                        {{ end -}} 
                        {{ $cats = apply $cats "urlize" "." | jsonify -}}
                        <div class="col-md-4 work-card shuffle-item" data-groups="{{ $cats }}">
                            <div class="col-md-12 portfolio-item portfolio-card shuffle-item" data-groups="{{ $cats }}">
                                {{ if isset .Params "image" -}}
                                <!-- 이미지 삽입 -->
                                <a href="{{ .Permalink }}"><img src="{{ .Params.image | relURL }}" alt="{{ .Title }}" /></a>
                                <button type="button" class="btn-journal-name-purple">{{ .Params.conference }}</button>

                                <!-- 타이틀 삽입 -->
                                <div class="portfolio-list-title"><a href="{{ .Permalink }}">{{ .Title | markdownify }}</a></div>

                                <div class="portfolio-list-meta">{{ .Params.metacontent }}</div>
                                {{- end }}
                                <div class="portfolio-hover">
                                    <div class="portfolio-content">
                                        {{ with .Params.image -}}
                                        <a href="{{ . | relURL }}" class="portfolio-popup"><i class="icon ion-search"></i
                    ></a> {{- end }}
                                        <a class="h3" href="{{ .RelPermalink }}">{{ .Title }}</a>
                                        <p>{{ .Params.description }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {{- end }}
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{{ end }}
